/* TADA v0.0.1 | Copyright 2015 fallroot */
!function(a,b){"use strict";function l(){e=!0,n(),k=d.delay?u(s,d.delay):s,v(a,"scroll",k),v(a,"resize",function(){n(),k()})}function m(a){for(var b in a||{})d[b]=a[b]}function n(){g=a.innerHeight||b.documentElement.clientHeight,h=a.innerWidth||b.documentElement.clientWidth,o()}function o(){var a=d.threshold.toString().match(/^\s*(\d+)\s*(px|%)?\s*$/);if(!a||!a.length)return console.error("Threshold value must be number or px or %."),void 0;var b=a[1],c=a[2];"%"==c?(i=Math.floor(g*b/100),j=Math.floor(h*b/100)):i=j=b}function p(a){if(e||l(),"string"==typeof a)for(var c=b.querySelectorAll(a),d=0,f=c.length;f>d;++d)q(c[d]);else q(a);k()}function q(a){f.indexOf(a)>=0||f.push(a)}function r(a){if("none"==w(a).display)return!1;var b=a.getBoundingClientRect(),c=b.top>=-i&&b.top<=g+i,d=b.bottom>=-i&&b.bottom<=g+i,e=b.left>=-j&&b.left<=h+j,f=b.right>=-j&&b.right<=h+j;return(c||d)&&(e||f)}function s(){for(var a=f.slice(),b=0,c=a.length;c>b;++b){var d=a[b];r(d)&&t(d)}}function t(a){var b=a.getAttribute(d.attribute),c=a.tagName.toLowerCase();"img"==c?a.setAttribute("src",b):a.style.backgroundImage="url("+b+")",a.removeAttribute(d.attribute),f.splice(f.indexOf(a),1),"function"==typeof d.callback&&d.callback(a)}function u(a,b){var c;return function(){c&&clearTimeout(c),c=setTimeout(a,b)}}function v(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)}function w(b){return a.getComputedStyle?getComputedStyle(b):b.currentStyle}var g,h,i,j,k,d={attribute:"data-src",delay:50,threshold:"20%"},e=!1,f=[];a.Tada={setup:m,add:p}}(window,document);
